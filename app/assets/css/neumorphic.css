/* Neumorphic Design System */

/* ============================================
   BASE STYLES
   ============================================ */

html, body {
  margin: 0;
  padding: 0;
  /* Fallback to dark bg to prevent white flash */
  background: #2a2f3a;
  background: var(--neu-bg, #2a2f3a);
  min-height: 100vh;
}

/* Ensure dark mode has correct bg even before variables fully load */
html.dark, html.dark body,
html[data-theme="dark"], html[data-theme="dark"] body {
  background: #2a2f3a;
  background: var(--neu-bg, #2a2f3a);
}

/* Light mode fallback */
html:not(.dark):not([data-theme="dark"]),
html:not(.dark):not([data-theme="dark"]) body {
  background: #e0e5ec;
  background: var(--neu-bg, #e0e5ec);
}


/* ============================================
   SKELETON LOADER
   ============================================ */

.skeleton-overlay {
  position: fixed;
  inset: 0;
  z-index: 99999;
  display: flex;
  flex-direction: column;
  background: #2a2f3a;
  background: var(--neu-bg, #2a2f3a);
  transition: opacity 0.3s ease-out, visibility 0.3s ease-out;
}

html:not(.dark):not([data-theme="dark"]) .skeleton-overlay {
  background: #e0e5ec;
  background: var(--neu-bg, #e0e5ec);
}

.skeleton-overlay.hidden {
  opacity: 0;
  visibility: hidden;
}

/* Shimmer animation base */
.skeleton-shimmer {
  background: linear-gradient(
    90deg,
    var(--neu-bg-secondary) 25%,
    var(--neu-shadow-light) 50%,
    var(--neu-bg-secondary) 75%
  );
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
}

@keyframes skeleton-shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Skeleton Navbar */
.skeleton-navbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 1.5rem;
  background: var(--neu-bg);
  box-shadow: var(--neu-shadow-flat);
}

.skeleton-logo {
  width: 120px;
  height: 40px;
  border-radius: 12px;
  background: linear-gradient(90deg, var(--neu-bg-secondary) 25%, var(--neu-shadow-light) 50%, var(--neu-bg-secondary) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
}

.skeleton-nav-items {
  display: none;
  gap: 1.5rem;
}

@media (min-width: 768px) {
  .skeleton-nav-items {
    display: flex;
  }
}

.skeleton-nav-item {
  width: 60px;
  height: 16px;
  border-radius: 8px;
  background: linear-gradient(90deg, var(--neu-bg-secondary) 25%, var(--neu-shadow-light) 50%, var(--neu-bg-secondary) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
}

.skeleton-nav-actions {
  display: flex;
  gap: 0.75rem;
}

.skeleton-btn-small {
  width: 70px;
  height: 36px;
  border-radius: 10px;
  background: linear-gradient(90deg, var(--neu-bg-secondary) 25%, var(--neu-shadow-light) 50%, var(--neu-bg-secondary) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
}

.skeleton-btn-primary {
  width: 110px;
  height: 36px;
  border-radius: 10px;
  background: linear-gradient(90deg, var(--neu-primary) 25%, color-mix(in srgb, var(--neu-primary) 70%, white) 50%, var(--neu-primary) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
  opacity: 0.6;
}

/* Skeleton Hero */
.skeleton-hero {
  flex: 1;
  display: grid;
  grid-template-columns: 1fr;
  gap: 3rem;
  padding: 3rem 1.5rem;
  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
}

@media (min-width: 1024px) {
  .skeleton-hero {
    grid-template-columns: 1fr 1fr;
    padding: 5rem 1.5rem;
  }
}

.skeleton-hero-content {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.skeleton-badge {
  width: 200px;
  height: 28px;
  border-radius: 14px;
  background: linear-gradient(90deg, var(--neu-bg-secondary) 25%, var(--neu-shadow-light) 50%, var(--neu-bg-secondary) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
}

.skeleton-title {
  width: 100%;
  max-width: 400px;
  height: 48px;
  border-radius: 8px;
  background: linear-gradient(90deg, var(--neu-bg-secondary) 25%, var(--neu-shadow-light) 50%, var(--neu-bg-secondary) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
}

.skeleton-title-short {
  width: 60%;
  max-width: 250px;
  height: 48px;
  border-radius: 8px;
  background: linear-gradient(90deg, var(--neu-bg-secondary) 25%, var(--neu-shadow-light) 50%, var(--neu-bg-secondary) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
}

.skeleton-text {
  width: 100%;
  max-width: 450px;
  height: 20px;
  border-radius: 6px;
  margin-top: 0.5rem;
  background: linear-gradient(90deg, var(--neu-bg-secondary) 25%, var(--neu-shadow-light) 50%, var(--neu-bg-secondary) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
}

.skeleton-text-short {
  width: 80%;
  max-width: 360px;
  height: 20px;
  border-radius: 6px;
  background: linear-gradient(90deg, var(--neu-bg-secondary) 25%, var(--neu-shadow-light) 50%, var(--neu-bg-secondary) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
}

.skeleton-hero-buttons {
  display: flex;
  gap: 1rem;
  margin-top: 1.5rem;
}

.skeleton-btn-large {
  width: 140px;
  height: 48px;
  border-radius: 12px;
  background: linear-gradient(90deg, var(--neu-bg-secondary) 25%, var(--neu-shadow-light) 50%, var(--neu-bg-secondary) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
}

.skeleton-hero-buttons .skeleton-btn-large:first-child {
  background: linear-gradient(90deg, var(--neu-primary) 25%, color-mix(in srgb, var(--neu-primary) 70%, white) 50%, var(--neu-primary) 75%);
  background-size: 200% 100%;
  opacity: 0.6;
}

/* Skeleton Card */
.skeleton-hero-card {
  display: none;
  padding: 1.5rem;
  border-radius: 20px;
  background: var(--neu-bg-gradient);
  box-shadow: var(--neu-shadow-flat);
}

@media (min-width: 1024px) {
  .skeleton-hero-card {
    display: block;
  }
}

.skeleton-card-header {
  width: 50%;
  height: 24px;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  background: linear-gradient(90deg, var(--neu-bg-secondary) 25%, var(--neu-shadow-light) 50%, var(--neu-bg-secondary) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
}

.skeleton-card-row {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.75rem;
  margin-bottom: 0.75rem;
  border-radius: 12px;
  background: var(--neu-bg-secondary);
}

.skeleton-card-row::before {
  content: '';
  width: 40px;
  height: 40px;
  border-radius: 50%;
  flex-shrink: 0;
  background: linear-gradient(90deg, var(--neu-bg) 25%, var(--neu-shadow-light) 50%, var(--neu-bg) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
}

.skeleton-card-row::after {
  content: '';
  flex: 1;
  height: 16px;
  border-radius: 8px;
  background: linear-gradient(90deg, var(--neu-bg) 25%, var(--neu-shadow-light) 50%, var(--neu-bg) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
}

/* ============================================
   COLOR PALETTES
   ============================================ */

/* Corporate Palette - Light */
:root,
[data-theme="light"][data-palette="corporate"] {
  --neu-bg: #e0e5ec;
  --neu-bg-gradient: linear-gradient(145deg, #f0f5fc, #ccd4de);
  --neu-bg-secondary: #d1d9e6;
  --neu-shadow-light: #ffffff;
  --neu-shadow-dark: #8a9bb4;
  --neu-primary: #4a90d9;
  --neu-primary-hover: #3a7bc8;
  --neu-text: #2d3748;
  --neu-text-muted: #718096;
  --neu-success: #48bb78;
  --neu-warning: #ed8936;
  --neu-danger: #f56565;
}

/* Corporate Palette - Dark */
[data-theme="dark"][data-palette="corporate"] {
  --neu-bg: #3d3d5c;
  --neu-bg-gradient: linear-gradient(145deg, #4a4a70, #333350);
  --neu-bg-secondary: #454568;
  --neu-shadow-light: #5a5a88;
  --neu-shadow-dark: #2a2a40;
  --neu-primary: #4a90d9;
  --neu-primary-hover: #5da0e9;
  --neu-text: #e2e8f0;
  --neu-text-muted: #a0aec0;
  --neu-success: #68d391;
  --neu-warning: #f6ad55;
  --neu-danger: #fc8181;
}

/* Lava Palette - Light */
[data-theme="light"][data-palette="lava"] {
  --neu-bg: #f0e6e6;
  --neu-bg-gradient: linear-gradient(145deg, #fff0f0, #e0d0d0);
  --neu-bg-secondary: #e8dada;
  --neu-shadow-light: #ffffff;
  --neu-shadow-dark: #b8a0a0;
  --neu-primary: #ff4d4d;
  --neu-primary-hover: #e63939;
  --neu-text: #3d2828;
  --neu-text-muted: #8b6f6f;
  --neu-success: #4ade80;
  --neu-warning: #fbbf24;
  --neu-danger: #ef4444;
}

/* Lava Palette - Dark */
[data-theme="dark"][data-palette="lava"] {
  --neu-bg: #422828;
  --neu-bg-gradient: linear-gradient(145deg, #523535, #352020);
  --neu-bg-secondary: #4a3030;
  --neu-shadow-light: #6a4848;
  --neu-shadow-dark: #2a1818;
  --neu-primary: #ff4d4d;
  --neu-primary-hover: #ff6666;
  --neu-text: #fce7e7;
  --neu-text-muted: #d4a5a5;
  --neu-success: #86efac;
  --neu-warning: #f59e0b;
  --neu-danger: #fca5a5;
}

/* Dracula Palette - Light */
[data-theme="light"][data-palette="dracula"] {
  --neu-bg: #f0f0f5;
  --neu-bg-gradient: linear-gradient(145deg, #fafaff, #e0e0e8);
  --neu-bg-secondary: #e4e4ed;
  --neu-shadow-light: #ffffff;
  --neu-shadow-dark: #a8a8be;
  --neu-primary: #bd93f9;
  --neu-primary-hover: #a87de8;
  --neu-text: #282a36;
  --neu-text-muted: #6272a4;
  --neu-success: #50fa7b;
  --neu-warning: #f1fa8c;
  --neu-danger: #ff5555;
}

/* Dracula Palette - Dark */
[data-theme="dark"][data-palette="dracula"] {
  --neu-bg: #44475a;
  --neu-bg-gradient: linear-gradient(145deg, #525570, #3a3d4d);
  --neu-bg-secondary: #4d5068;
  --neu-shadow-light: #686b88;
  --neu-shadow-dark: #32343f;
  --neu-primary: #bd93f9;
  --neu-primary-hover: #cda8ff;
  --neu-text: #f8f8f2;
  --neu-text-muted: #9aa0c8;
  --neu-success: #50fa7b;
  --neu-warning: #e6a817;
  --neu-danger: #ff5555;
}

/* Ocean Palette - Light */
[data-theme="light"][data-palette="ocean"] {
  --neu-bg: #e6f0f5;
  --neu-bg-gradient: linear-gradient(145deg, #f0faff, #d0e0e8);
  --neu-bg-secondary: #d6e6ed;
  --neu-shadow-light: #ffffff;
  --neu-shadow-dark: #9ab8c6;
  --neu-primary: #00bcd4;
  --neu-primary-hover: #00a5bb;
  --neu-text: #1a3a4a;
  --neu-text-muted: #5a7a8a;
  --neu-success: #26a69a;
  --neu-warning: #ffb74d;
  --neu-danger: #ef5350;
}

/* Ocean Palette - Dark */
[data-theme="dark"][data-palette="ocean"] {
  --neu-bg: #2d4558;
  --neu-bg-gradient: linear-gradient(145deg, #3a5568, #254050);
  --neu-bg-secondary: #355065;
  --neu-shadow-light: #4a6a85;
  --neu-shadow-dark: #1a2d3a;
  --neu-primary: #00bcd4;
  --neu-primary-hover: #26c6da;
  --neu-text: #e0f7fa;
  --neu-text-muted: #80cbc4;
  --neu-success: #4db6ac;
  --neu-warning: #f9a825;
  --neu-danger: #ef9a9a;
}

/* Forest Palette - Light */
[data-theme="light"][data-palette="forest"] {
  --neu-bg: #e6f0e6;
  --neu-bg-gradient: linear-gradient(145deg, #f0fff0, #d0e0d0);
  --neu-bg-secondary: #d4e6d4;
  --neu-shadow-light: #ffffff;
  --neu-shadow-dark: #9ab89a;
  --neu-primary: #4caf50;
  --neu-primary-hover: #43a047;
  --neu-text: #1a3a1a;
  --neu-text-muted: #5a7a5a;
  --neu-success: #66bb6a;
  --neu-warning: #ffca28;
  --neu-danger: #ef5350;
}

/* Forest Palette - Dark */
[data-theme="dark"][data-palette="forest"] {
  --neu-bg: #2d452d;
  --neu-bg-gradient: linear-gradient(145deg, #3a553a, #254025);
  --neu-bg-secondary: #355035;
  --neu-shadow-light: #4a6a4a;
  --neu-shadow-dark: #1a2d1a;
  --neu-primary: #4caf50;
  --neu-primary-hover: #66bb6a;
  --neu-text: #e8f5e9;
  --neu-text-muted: #a5d6a7;
  --neu-success: #81c784;
  --neu-warning: #ff9800;
  --neu-danger: #ef9a9a;
}

/* ============================================
   SHADOW VARIABLES
   ============================================ */

:root,
[data-theme="light"] {
  --neu-shadow-flat:
    3px 3px 5px var(--neu-shadow-dark),
    -2px -2px 6px var(--neu-shadow-light);
  --neu-shadow-pressed:
    inset 2px 2px 4px var(--neu-shadow-dark),
    inset -1px -1px 4px var(--neu-shadow-light);
  --neu-shadow-convex:
    3px 3px 5px var(--neu-shadow-dark),
    -2px -2px 6px var(--neu-shadow-light),
    inset 1px 1px 2px var(--neu-shadow-light),
    inset -1px -1px 1px var(--neu-shadow-dark);
  --neu-shadow-concave:
    inset 3px 3px 5px var(--neu-shadow-dark),
    inset -2px -2px 6px var(--neu-shadow-light);
  --neu-shadow-small:
    2px 2px 3px var(--neu-shadow-dark),
    -1px -1px 4px var(--neu-shadow-light);
  --neu-shadow-small-pressed:
    inset 1px 1px 2px var(--neu-shadow-dark),
    inset -1px -1px 2px var(--neu-shadow-light);
}

[data-theme="dark"] {
  --neu-shadow-flat:
    3px 3px 5px var(--neu-shadow-dark),
    -2px -2px 6px var(--neu-shadow-light);
  --neu-shadow-pressed:
    inset 2px 2px 4px var(--neu-shadow-dark),
    inset -1px -1px 4px var(--neu-shadow-light);
  --neu-shadow-convex:
    3px 3px 5px var(--neu-shadow-dark),
    -2px -2px 6px var(--neu-shadow-light),
    inset 1px 1px 2px var(--neu-shadow-light),
    inset -1px -1px 1px var(--neu-shadow-dark);
  --neu-shadow-concave:
    inset 3px 3px 5px var(--neu-shadow-dark),
    inset -2px -2px 6px var(--neu-shadow-light);
  --neu-shadow-small:
    2px 2px 3px var(--neu-shadow-dark),
    -1px -1px 4px var(--neu-shadow-light);
  --neu-shadow-small-pressed:
    inset 1px 1px 2px var(--neu-shadow-dark),
    inset -1px -1px 2px var(--neu-shadow-light);
}

/* ============================================
   COMPONENT CLASSES
   ============================================ */

.neu-flat {
  background: var(--neu-bg) !important;
  box-shadow: var(--neu-shadow-flat) !important;
  border-radius: 12px;
}

.neu-pressed {
  background: var(--neu-bg) !important;
  box-shadow: var(--neu-shadow-pressed) !important;
  border-radius: 12px;
}

.neu-convex {
  background: var(--neu-bg) !important;
  box-shadow: var(--neu-shadow-convex) !important;
  border-radius: 12px;
}

.neu-concave {
  background: var(--neu-bg) !important;
  box-shadow: var(--neu-shadow-concave) !important;
  border-radius: 12px;
}

.neu-card {
  background: var(--neu-bg-gradient) !important;
  box-shadow: var(--neu-shadow-flat) !important;
  border-radius: 16px;
  padding: 1.5rem;
}

.neu-input {
  background: var(--neu-bg) !important;
  box-shadow: var(--neu-shadow-pressed) !important;
  border-radius: 8px;
  border: none;
  padding: 0.75rem 1rem;
  color: var(--neu-text);
  outline: none;
}

.neu-input:focus {
  box-shadow: var(--neu-shadow-concave) !important;
}

.neu-input::placeholder {
  color: var(--neu-text-muted);
}

.neu-btn {
  background: var(--neu-bg) !important;
  box-shadow: var(--neu-shadow-flat) !important;
  border-radius: 12px;
  border: none;
  padding: 0.75rem 1.5rem;
  color: var(--neu-text);
  font-weight: 500;
  cursor: pointer;
}

.neu-btn:hover:not(:disabled),
.neu-btn:active:not(:disabled),
.neu-btn.active {
  box-shadow: var(--neu-shadow-pressed) !important;
}

.neu-btn-primary {
  background: var(--neu-primary) !important;
  color: white !important;
}

.neu-btn-primary:hover:not(:disabled) {
  background: var(--neu-primary-hover) !important;
}

.neu-btn-success {
  background: var(--neu-success) !important;
  color: white !important;
}

.neu-btn-warning {
  background: var(--neu-warning) !important;
  color: white !important;
}

.neu-btn-danger {
  background: var(--neu-danger) !important;
  color: white !important;
}

.neu-btn-ghost {
  background: transparent !important;
  box-shadow: none !important;
  color: var(--neu-text) !important;
}

.neu-btn-ghost:hover:not(:disabled),
.neu-btn-ghost:active:not(:disabled) {
  background: var(--neu-bg) !important;
  box-shadow: var(--neu-shadow-pressed) !important;
}

.neu-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: var(--neu-shadow-dark) transparent;
}

.neu-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.neu-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.neu-scrollbar::-webkit-scrollbar-thumb {
  background-color: var(--neu-shadow-dark);
  border-radius: 3px;
}
